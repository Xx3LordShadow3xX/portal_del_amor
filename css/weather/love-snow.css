/* ========================================
   LOVE SNOW WEATHER
   Snowfall with alpine scene and Santa sleigh
   ======================================== */

/* Background gradient for love snow */
body.bg-love-snow {
  background: linear-gradient(-45deg, #e3f2fd, #b39ddb, #f8f9fa, #e1bee7, #e3f2fd);
  background-size: 400% 400%;
}

/* ========================================
   SNOW BACKGROUND PARTICLES
   ======================================== */

.snow-bg-particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, transparent 70%);
  border-radius: 50%;
  animation: rainFall linear infinite;
  filter: blur(1px);
  opacity: 0.5;
}

/* ========================================
   ALPINE SCENE
   ======================================== */

.alpine-scene {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40%;
  z-index: 0;
  pointer-events: none;
  opacity: 0;
  transition: opacity 1s ease;
}

.alpine-scene.active {
  opacity: 1;
}

/* Mountain Layers - Gray bases with proper blur */
.mountain {
  position: absolute;
  bottom: 0;
  width: 0;
  height: 0;
  border-left: 150px solid transparent;
  border-right: 150px solid transparent;
}

/* Back mountains - most blurred, pushed back */
.mountain-back {
  border-bottom: 250px solid rgba(140, 150, 170, 0.4);
  z-index: 1;
  filter: blur(12px);
  opacity: 0.5;
}

/* Mid mountains - medium blur */
.mountain-mid {
  border-bottom: 300px solid rgba(160, 170, 190, 0.5);
  z-index: 2;
  filter: blur(8px);
  opacity: 0.65;
}

/* Front mountains - slight blur */
.mountain-front {
  border-bottom: 350px solid rgba(180, 190, 210, 0.6);
  z-index: 3;
  filter: blur(4px);
  opacity: 0.75;
}

/* Snow caps - white triangles sitting ON GRAY PEAKS */
.snow-cap {
  position: absolute !important;
  left: 50% !important;
  transform: translateX(-50%) !important;
  width: 0 !important;
  height: 0 !important;
  filter: blur(3px) !important;
  z-index: 10 !important;
}

.mountain-back .snow-cap {
  top: -120px !important;
  border-left: 50px solid transparent !important;
  border-right: 50px solid transparent !important;
  border-bottom: 80px solid rgba(255, 255, 255, 0.9) !important;
}

.mountain-mid .snow-cap {
  top: -120px !important;
  border-left: 60px solid transparent !important;
  border-right: 60px solid transparent !important;
  border-bottom: 95px solid rgba(255, 255, 255, 0.95) !important;
}

/* Mountain Fog */
.mountain-fog {
  position: absolute;
  background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
  border-radius: 100%;
  filter: blur(25px);
  animation: cloudDrift linear infinite;
}

/* ========================================
   SANTA SLEIGH SYSTEM - ABSOLUTE POSITIONING
   ======================================== */

.santa-sleigh {
  position: fixed !important;
  left: -300px !important;
  top: 10% !important;
  z-index: 100 !important;
  pointer-events: none !important;
  opacity: 0 !important;
  transition: opacity 0.5s ease !important;
  transform: scale(0.5) !important;
  filter: blur(3px) brightness(0.7) contrast(0.8) !important;
  width: 350px !important;
  height: 80px !important;
}

.santa-sleigh.active {
  opacity: 0.65 !important;
  animation: sleighFlyNatural 35s cubic-bezier(0.45, 0.05, 0.55, 0.95) forwards !important;
}

/* Natural swooping flight path - TRULY RANDOM (big swoops, small dips, varied speeds) */
@keyframes sleighFlyNatural {
  0% {
    left: -300px;
    top: 8%;
    transform: scale(0.5) rotate(-1deg);
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  4% {
    top: 15%;
    transform: scale(0.5) rotate(2deg);
    animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);
  }
  9% {
    top: 6%;
    transform: scale(0.5) rotate(-3deg);
    animation-timing-function: cubic-bezier(0.17, 0.67, 0.83, 0.67);
  }
  12% {
    top: 9%;
    transform: scale(0.5) rotate(1deg);
    animation-timing-function: cubic-bezier(0.33, 0.12, 0.68, 0.89);
  }
  17% {
    top: 17%;
    transform: scale(0.5) rotate(4deg);
    animation-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
  }
  23% {
    top: 12%;
    transform: scale(0.5) rotate(-1deg);
    animation-timing-function: cubic-bezier(0.22, 0.61, 0.36, 1);
  }
  28% {
    top: 5%;
    transform: scale(0.5) rotate(-4deg);
    animation-timing-function: cubic-bezier(0.39, 0.58, 0.57, 1);
  }
  34% {
    top: 11%;
    transform: scale(0.5) rotate(2deg);
    animation-timing-function: cubic-bezier(0.45, 0.05, 0.55, 0.95);
  }
  39% {
    top: 16%;
    transform: scale(0.5) rotate(3deg);
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  43% {
    top: 7%;
    transform: scale(0.5) rotate(-2deg);
    animation-timing-function: cubic-bezier(0.55, 0.09, 0.68, 0.53);
  }
  49% {
    top: 14%;
    transform: scale(0.5) rotate(1deg);
    animation-timing-function: cubic-bezier(0.21, 0.61, 0.35, 1);
  }
  54% {
    top: 4%;
    transform: scale(0.5) rotate(-3deg);
    animation-timing-function: cubic-bezier(0.65, 0.05, 0.36, 1);
  }
  59% {
    top: 18%;
    transform: scale(0.5) rotate(5deg);
    animation-timing-function: cubic-bezier(0.68, -0.55, 0.27, 1.55);
  }
  64% {
    top: 10%;
    transform: scale(0.5) rotate(-1deg);
    animation-timing-function: cubic-bezier(0.17, 0.67, 0.83, 0.67);
  }
  69% {
    top: 8%;
    transform: scale(0.5) rotate(2deg);
    animation-timing-function: cubic-bezier(0.39, 0.58, 0.57, 1);
  }
  73% {
    top: 16%;
    transform: scale(0.5) rotate(3deg);
    animation-timing-function: cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }
  78% {
    top: 6%;
    transform: scale(0.5) rotate(-4deg);
    animation-timing-function: cubic-bezier(0.47, 0, 0.75, 0.72);
  }
  83% {
    top: 13%;
    transform: scale(0.5) rotate(1deg);
    animation-timing-function: cubic-bezier(0.33, 0.12, 0.68, 0.89);
  }
  88% {
    top: 9%;
    transform: scale(0.5) rotate(-2deg);
    animation-timing-function: cubic-bezier(0.22, 0.61, 0.36, 1);
  }
  93% {
    top: 15%;
    transform: scale(0.5) rotate(3deg);
    animation-timing-function: cubic-bezier(0.45, 0.05, 0.55, 0.95);
  }
  97% {
    top: 10%;
    transform: scale(0.5) rotate(-1deg);
    animation-timing-function: cubic-bezier(0.21, 0.61, 0.35, 1);
  }
  100% {
    left: calc(100vw + 300px);
    top: 12%;
    transform: scale(0.5) rotate(0deg);
  }
}

/* Sleigh image - AT THE BACK (left: 0) */
.sleigh-img {
  width: 80px !important;
  height: auto !important;
  animation: sleighBounce 1.4s ease-in-out infinite alternate !important;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) !important;
  position: absolute !important;
  left: 0px !important;
  top: 0px !important;
  z-index: 1 !important;
}

@keyframes sleighBounce {
  from { 
    transform: translateY(0px) rotate(-2deg); 
  }
  to { 
    transform: translateY(-7px) rotate(2deg); 
  }
}

/* Reindeer images - IN FRONT (higher left values) */
.reindeer-img {
  width: 55px !important;
  height: auto !important;
  filter: drop-shadow(0 2px 8px rgba(0, 0, 0, 0.3)) !important;
  position: absolute !important;
  top: 0px !important;
  z-index: 2 !important;
}

/* Reindeer 1 (closest to Santa) - second child in HTML */
.reindeer-img:nth-child(2) {
  left: 95px !important;
  animation: reindeerFloat1 1.3s ease-in-out infinite alternate !important;
  animation-delay: 0s !important;
}

@keyframes reindeerFloat1 {
  from { 
    transform: translateY(0px) rotate(-1deg) translateX(0px); 
  }
  to { 
    transform: translateY(-9px) rotate(2deg) translateX(3px); 
  }
}

/* Reindeer 2 (middle) - third child in HTML */
.reindeer-img:nth-child(3) {
  left: 165px !important;
  animation: reindeerFloat2 1.5s ease-in-out infinite alternate !important;
  animation-delay: -0.3s !important;
}

@keyframes reindeerFloat2 {
  from { 
    transform: translateY(-2px) rotate(1deg) translateX(0px); 
  }
  to { 
    transform: translateY(-11px) rotate(-2deg) translateX(-3px); 
  }
}

/* Reindeer 3 (lead/front) - fourth child in HTML */
.reindeer-img:nth-child(4) {
  left: 235px !important;
  animation: reindeerFloat3 1.4s ease-in-out infinite alternate !important;
  animation-delay: -0.6s !important;
}

@keyframes reindeerFloat3 {
  from { 
    transform: translateY(-1px) rotate(-2deg) translateX(0px); 
  }
  to { 
    transform: translateY(-10px) rotate(1deg) translateX(2px); 
  }
}

/* ========================================
   GIFT PARTICLES
   ======================================== */

.gift-particle {
  position: fixed;
  z-index: 99;
  pointer-events: none;
}

@keyframes giftFall {
  0% {
    transform: translateY(0) translateX(0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(calc(100vh - 50px)) translateX(var(--fall-x)) rotate(720deg);
    opacity: 0;
  }
}

.gift-box {
  width: 25px;
  height: 25px;
  background: linear-gradient(135deg, #FF1493 0%, #FF69B4 100%);
  border-radius: 3px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  position: relative;
}

.gift-ribbon {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 100%;
  height: 4px;
  background: #FFD700;
}

.gift-ribbon::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) rotate(90deg);
  width: 100%;
  height: 4px;
  background: #FFD700;
}

.gift-ribbon::after {
  content: '';
  position: absolute;
  top: -8px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-bottom: 8px solid #FFD700;
}
